# prize
抽奖算法，秒杀并发抽奖；时间均匀分布抽奖

秒杀并发抽奖思路：

	* $proArr是一个预先设置的数组，
	* 假设数组为：array(100,200,300，400)，
	* 开始是从1,1000 这个概率范围内筛选第一个数是否在他的出现概率范围之内， 
	* 如果不在，则将概率空间，也就是k的值减去刚刚的那个数字的概率空间，
	* 在本例当中就是减去100，也就是说第二个数是在1，900这个范围内筛选的。
	* 这样 筛选到最终，总会有一个数满足要求。
	* 就相当于去一个箱子里摸东西，
	* 第一个不是，第二个不是，第三个还不是，那最后一个一定是。
	* 这个算法简单，而且效率非常高，
	* 关键是这个算法已在我们以前的项目中有应用，尤其是大数据量的项目中效率非常棒。


时间均匀分布抽奖思路：

	1：记活动起始时间为0 - 100；
	2：抽奖的成功概率为，当前时间 - 上次抽奖时间（没有记为活动开始时间） 的时间差 除以 活动结束时间 - 上次抽奖时间（没有记为活动开始时间）。例，第10秒开始抽奖，那么抽奖的基础成功率为 1/10。
	3：连续的抽奖（并发），那么上次抽奖时间与当前的时间差很小，分子很小，即使并发数量大，成功率也不会很高。
	4：把最终抽奖的成功率乘以当前奖品数量（成功率会随着奖品数量递减而递减）；
	
测试数据：
	抽奖时间为1天，奖品数量为10个。
	每1个小时抽1次，测试出来需要的次数分别为21，18，22，23，21
	每分钟抽1次，需要1260，1328，1418, 1435,1287
	每秒抽1次，需要84805,78573,80530,86291,81182
	
以上测试时间转化为天均没超过24小时。


代码均为简单的思路，也在网上借鉴了很多的例子；如有更好的思路欢迎与我沟通 <email>study.zhanglei@gmail.com</email>